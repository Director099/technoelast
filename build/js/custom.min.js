!function(e){"function"==typeof define&&define.amd?define("custom",e):e()}(function(){"use strict";var e,t,n,i,s;document.addEventListener("DOMContentLoaded",function(){function e(){500<=window.pageYOffset?document.getElementById("to-top").classList.add("to-top--visible"):document.getElementById("to-top").classList.remove("to-top--visible")}document.getElementById("to-top")&&(document.getElementById("to-top").addEventListener("click",function(e){e.preventDefault();var i,s,o,r,t=window.pageYOffset,n=-1*+t;i=(e={duration:500,timing:function(e){return Math.pow(e,4)},draw:function(e){window.scrollTo(0,t+e*n)}}).timing,s=e.draw,o=e.duration,r=performance.now(),requestAnimationFrame(function e(t){var n=(t-r)/o,t=i(n=1<n?1:n);s(t),n<1&&requestAnimationFrame(e)})},!1),window.addEventListener("scroll",e),e())}),e=document.querySelectorAll(".field-file__input"),Array.prototype.forEach.call(e,function(e){var n=function(e,t){var n,i;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(n=e,!0)});e;){if((i=e.parentElement)&&i[n](t))return i;e=i}return null}(e,".field-file").querySelector(".field-file__name-text"),i=n.innerHTML;e.addEventListener("change",function(e){var t="",t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop();n.innerHTML=t||i})});const o=document.querySelectorAll(".js-collapse-click");o.forEach(e=>{e.addEventListener("click",function(){this.parentNode.classList.toggle("active");const e=this.nextElementSibling;e.style.height?e.style.height=null:e.style.height=e.scrollHeight+"px"})});const r=document.querySelectorAll(".js-field"),a=document.querySelectorAll(".field-text__btn-event"),l=document.querySelectorAll(".field-text__btn-password");function c(){""!==this.querySelector(".field-text__input").value?this.classList.add("focus"):this.classList.remove("focus")}function d(){const e=this.closest(".field-text").querySelector(".field-text__input");this.classList.toggle("field-text__btn-password--open"),this.classList.contains("field-text__btn-password--open")?e.type="text":e.type="password"}function u(){this.closest(".field-text").querySelector(".field-text__input").value=""}function p(e){var o=this;o.elem=e,this.f=!0,this.reg={Password:/^[\S]{8,}$/,Email:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/},e.on("change","[data-required=1]",function(){$(this).removeClass("error")}),e.on("input","[data-required=1]",function(){o.addInvalid()||e.find(".form__warning").removeClass("d-none")}),this.addInvalid=function(e){e=$(e).closest(".field-text");e.removeClass("valid"),e.addClass("error"),o.f=!1},this.addValid=function(e){var t=$(e).closest(".field-text"),e=$(e).closest(".field-checkbox");t.addClass("valid"),t.removeClass("error"),e.removeClass("error")},this.isValid=function(){return o.f=!0,o.elem.find("[data-required=1]").each(function(e,t){if(""==$(this).val()?o.addInvalid(t):"checkbox"!=$(this).attr("type")||$(this).prop("checked")?o.addValid(t):($(this).closest(".field-checkbox").addClass("error"),o.f=!1),t.classList.contains("js-calendar")){const i=new Inputmask("99.99.9999",{alias:"datetime",placeholder:"",inputFormat:"dd.mm.yyyy",insertMode:!1,showMaskOnHover:!1,jitMasking:!0}).mask(document.querySelectorAll(".js-calendar"));i.isComplete()||o.addInvalid(t)}if("tel"==t.type){const s=new Inputmask({mask:"+7 (999) 999 99 99",showMaskOnHover:!1}).mask(document.querySelectorAll("[type='tel']"));s.isComplete()||o.addInvalid(t)}var n;"password"==$(this).data("type")&&(n=$(this).val(),$(this).hasClass("js-check")&&n!==$(".js-input-elem").val()&&o.addInvalid(t),0==o.reg.Password.test(n)&&o.addInvalid(t)),"file"==$(this).attr("type")&&(o.f=!0),"email"==$(this).data("type")&&(n=$(this).val(),0==o.reg.Email.test(n)&&o.addInvalid(t))}),o.f}}function f(e){return 1!==e.querySelectorAll(".swiper-slide").length&&{el:".swiper-pagination",dynamicBullets:!0}}r.forEach(e=>{e.addEventListener("change",c)}),a.forEach(e=>{e.addEventListener("click",u)}),l.forEach(e=>{e.addEventListener("click",d)}),$(".js-form").each(function(){new p($(this))}),$(".js-form").on("submit",function(e){return!!new p($(this)).isValid()}),$("[data-fancybox]").fancybox({touch:!1}),new Inputmask({mask:"+7 (X99) 999-9999",definitions:{X:{validator:"[1, 2, 3, 4, 5, 6, 9, 0]"}},showMaskOnHover:!1}).mask(document.querySelectorAll("[type='tel']"));const h=document.querySelector(".js-product-slider");h&&new Swiper(h,{mousewheel:{forceToAxis:!0},navigation:{nextEl:h.parentNode.querySelector(".swiper-button-next"),prevEl:h.parentNode.querySelector(".swiper-button-prev")},pagination:f(h)});const m=document.querySelector(".js-main-slider");if(m){const k=m.querySelectorAll(".js-main-slider .swiper-slide");1<k.length?new Swiper(m,{mousewheel:{forceToAxis:!0},pagination:1!==(i=(i=m).querySelectorAll(".swiper-slide")).length&&(!(window.matchMedia("(min-width: 1200px)").matches&&i.length<=3)&&{el:".swiper-pagination",dynamicBullets:!0}),navigation:{nextEl:m.parentNode.querySelector(".swiper-button-next"),prevEl:m.parentNode.querySelector(".swiper-button-prev")},breakpoints:{1200:{slidesPerView:(t=k,n=3,t.length<n?k.length:3),spaceBetween:1}}}):(m.parentNode.querySelector(".swiper-button-next").classList.add("d-none"),m.parentNode.querySelector(".swiper-button-prev").classList.add("d-none"))}const v=document.querySelector(".js-company-slider");v&&new Swiper(v,{mousewheel:{forceToAxis:!0},navigation:{nextEl:v.parentNode.querySelector(".swiper-button-next"),prevEl:v.parentNode.querySelector(".swiper-button-prev")},spaceBetween:8,pagination:f(v)});const y=document.querySelectorAll(".js-auto-slider");y.forEach(function(e){s=new Swiper(e,{slidesPerView:"auto",mousewheel:{forceToAxis:!0},spaceBetween:8,navigation:{nextEl:e.parentNode.querySelector(".swiper-button-next"),prevEl:e.parentNode.querySelector(".swiper-button-prev")},breakpoints:{1200:{spaceBetween:12}}})});const w=document.querySelector(".js-personal-slider");w&&new Swiper(w,{slidesPerView:"auto",mousewheel:{forceToAxis:!0},navigation:{nextEl:w.parentNode.querySelector(".swiper-button-next"),prevEl:w.parentNode.querySelector(".swiper-button-prev")},spaceBetween:8,breakpoints:{1200:{spaceBetween:38}}});const g=document.querySelector(".nav-list__item--hover");if(g){const A=g.closest(".sidebar");g.addEventListener("mouseover",function(){const e=this.querySelector(".nav-list__sub-item");e.style.display="block",this.classList.add("active")}),A.addEventListener("mouseout",function(e){this.querySelector(".nav-list__sub-item");const t=e.relatedTarget.parentNode;(t.classList.contains("sidebar")||t.classList.contains("grid-row"))&&this.querySelector(".nav-list__item--hover").classList.remove("active")})}const S=$("[data-btn-filter]"),b=$("[data-filter]"),q=$("[data-fancybox]");S.on("click",function(){const e=$(this).parents(".section-content__wrap");e.find(S).removeClass("active"),$(this).addClass("active"),e.find(b).attr("hidden",""),e.find(".tab-filter__btn.active").each(function(){if("all"===$(this).data("btn-filter"))e.find(b).removeAttr("hidden"),e.find(q).attr("data-fancybox","all"),s.update;else{let e=$('[data-filter="'+$(this).data("btn-filter")+'"]');e.removeAttr("hidden"),e.find(q).attr("data-fancybox",$(this).data("btn-filter")),s.update}})});const x=document.querySelectorAll(".js-desc-toggle");x.forEach(function(n){n.addEventListener("click",function(e){e.preventDefault();const t=n.previousElementSibling;t.classList.toggle("active"),t.classList.contains("active")?n.textContent="Свернуть":n.textContent="Подробнее ›"})});const E=document.querySelectorAll(".js-char-clamp");E.forEach(e=>{const t=e.parentNode.querySelector(".js-desc-toggle");var n=e.querySelectorAll(".table-char__item").length,e={Mob:8,Desc:3};window.matchMedia("(max-width: 1199px)").matches&&n<=e.Mob&&t.classList.add("d-none"),window.matchMedia("(min-width: 1200px)").matches&&n<=e.Desc&&t.classList.add("d-none")}),window.addEventListener("load",function(){var e=document.querySelectorAll(".js-line-clamp");if(0!==e.length)for(var t=0;t<e.length;t++){var n=e[t].parentNode.querySelector(".js-desc-toggle");e[t].offsetHeight<e[t].scrollHeight?n.classList.display="block":n.style.display="none"}});const L=document.querySelectorAll(".js-check-group");L&&L.forEach(t=>{const e=t.querySelector(".js-form-next"),n=t.querySelector(".js-form-prev");n&&n.addEventListener("click",()=>{let e=t.closest(".form__fieldset");e.classList.add("d-none"),e.previousElementSibling.classList.remove("d-none")}),e&&e.addEventListener("click",()=>{if(0===t.querySelectorAll("input:checked").length)return!1;let e=t.closest(".form__fieldset");e.classList.add("d-none"),e.nextElementSibling.classList.remove("d-none")})});const _=$(".js-tx-auto-height");_.on("keyup paste",function(){var e=$(this),t=e.innerHeight()-e.height();e.innerHeight()<this.scrollHeight||e.height(1),e.height(this.scrollHeight-t)})});