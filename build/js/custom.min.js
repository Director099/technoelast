!function(e){"function"==typeof define&&define.amd?define("custom",e):e()}(function(){"use strict";var e;document.addEventListener("DOMContentLoaded",function(){function e(){500<=window.pageYOffset?document.getElementById("to-top").classList.add("to-top--visible"):document.getElementById("to-top").classList.remove("to-top--visible")}document.getElementById("to-top")&&(document.getElementById("to-top").addEventListener("click",function(e){e.preventDefault();var n,s,a,o,t=window.pageYOffset,i=-1*+t;n=(e={duration:500,timing:function(e){return Math.pow(e,4)},draw:function(e){e=t+e*i;window.scrollTo(0,e)}}).timing,s=e.draw,a=e.duration,o=performance.now(),requestAnimationFrame(function e(t){var i=(t-o)/a,t=n(i=1<i?1:i);s(t),i<1&&requestAnimationFrame(e)})},!1),window.addEventListener("scroll",e),e())}),e=document.querySelectorAll(".field-file__input"),Array.prototype.forEach.call(e,function(e){var i=function(e,t){var i,n;for(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].some(function(e){return"function"==typeof document.body[e]&&(i=e,!0)});e;){if((n=e.parentElement)&&n[i](t))return n;e=n}return null}(e,".field-file").querySelector(".field-file__name-text"),n=i.innerHTML;e.addEventListener("change",function(e){var t="",t=this.files&&1<this.files.length?(this.getAttribute("data-multiple-caption")||"").replace("{count}",this.files.length):e.target.value.split("\\").pop();i.innerHTML=t||n})});const t=document.querySelectorAll(".js-collapse-click");t.forEach(e=>{e.addEventListener("click",function(){this.parentNode.classList.toggle("active");const e=this.nextElementSibling;e.style.height?e.style.height=null:e.style.height=e.scrollHeight+"px"})});const i=document.querySelectorAll(".js-field"),n=document.querySelectorAll(".field-text__btn-event"),s=document.querySelectorAll(".field-text__btn-password");function a(){""!==this.querySelector(".field-text__input").value?this.classList.add("focus"):this.classList.remove("focus")}function o(){const e=this.closest(".field-text").querySelector(".field-text__input");this.classList.toggle("field-text__btn-password--open"),this.classList.contains("field-text__btn-password--open")?e.type="text":e.type="password"}function l(){this.closest(".field-text").querySelector(".field-text__input").value=""}function r(e){var a=this;a.elem=e,this.f=!0,this.reg={Password:/^[\S]{8,}$/,Email:/^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/},e.on("change","[data-required=1]",function(){$(this).removeClass("error")}),this.addInvalid=function(e){e=$(e).closest(".field-text");e.removeClass("valid"),e.addClass("error"),a.f=!1},this.addValid=function(e){var t=$(e).closest(".field-text"),e=$(e).closest(".field-checkbox");t.addClass("valid"),t.removeClass("error"),e.removeClass("error")},this.isValid=function(){return a.f=!0,a.elem.find("[data-required=1]").each(function(e,t){if(""==$(this).val()?a.addInvalid(t):"checkbox"!=$(this).attr("type")||$(this).prop("checked")?a.addValid(t):($(this).closest(".field-checkbox").addClass("error"),a.f=!1),t.classList.contains("js-calendar")){const n=new Inputmask("99.99.9999",{alias:"datetime",placeholder:"",inputFormat:"dd.mm.yyyy",insertMode:!1,showMaskOnHover:!1,jitMasking:!0}).mask(document.querySelectorAll(".js-calendar"));n.isComplete()||a.addInvalid(t)}if("tel"==t.type){const s=new Inputmask({mask:"+7 (999) 999 99 99",showMaskOnHover:!1}).mask(document.querySelectorAll("[type='tel']"));s.isComplete()||a.addInvalid(t)}var i;"password"==$(this).data("type")&&(i=$(this).val(),$(this).hasClass("js-check")&&i!==$(".js-input-elem").val()&&a.addInvalid(t),0==a.reg.Password.test(i)&&a.addInvalid(t)),"file"==$(this).attr("type")&&(a.f=!0),"email"==$(this).data("type")&&(i=$(this).val(),0==a.reg.Email.test(i)&&a.addInvalid(t))}),a.f}}i.forEach(e=>{e.addEventListener("change",a)}),n.forEach(e=>{e.addEventListener("click",l)}),s.forEach(e=>{e.addEventListener("click",o)}),$(".js-form").each(function(){new r($(this))}),$(".js-form").on("submit",function(e){return!!new r($(this)).isValid()}),$("[data-fancybox]").fancybox({touch:!1}),new Inputmask({mask:"+7 (999) 999 99 99",showMaskOnHover:!1}).mask(document.querySelectorAll("[type='tel']")),new Swiper(".js-product-slider",{loop:!0,pagination:{el:".swiper-pagination",dynamicBullets:!0}}),new Swiper(".js-main-slider",{loop:!0,pagination:{el:".swiper-pagination",dynamicBullets:!0},breakpoints:{1200:{slidesPerView:3,spaceBetween:1}}}),new Swiper(".js-company-slider",{loop:!0,spaceBetween:8,pagination:{el:".swiper-pagination",dynamicBullets:!0}});var d=new Swiper(".js-auto-slider",{slidesPerView:"auto",spaceBetween:8,breakpoints:{1200:{spaceBetween:12}}});new Swiper(".js-personal-slider",{slidesPerView:"auto",spaceBetween:8,breakpoints:{1200:{spaceBetween:38}}});const c=$("[data-btn-filter]");var u=$("[data-filter]");c.on("click",function(){const e=$(this).parents(".section-content__wrap");e.find(c).removeClass("active"),$(this).addClass("active"),e.find("[data-filter]").attr("hidden",""),e.find(".tab-filter__btn.active").each(function(){("all"===$(this).data("btn-filter")?e.find(u):$('[data-filter="'+$(this).data("btn-filter")+'"]')).removeAttr("hidden"),d.update()})})});